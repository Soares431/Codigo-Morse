import RPi.GPIO as gpio
import time

gpio.setmode(gpio.BOARD)
gpio.setwarnings(False)

gpio.setup(3, gpio.OUT)
gpio.setup(5, gpio.OUT)
gpio.setup(7, gpio.OUT)
gpio.setup(11, gpio.OUT)
gpio.setup(13, gpio.OUT)

def ponto():
    gpio.output(5, 1)
    time.sleep(0.5)
    gpio.output(5, 0)
    time.sleep(0.5)

def traco():
    gpio.output(3, 1)
    gpio.output(5, 1)
    gpio.output(7, 1)
    time.sleep(0.5)
    gpio.output(3, 0)
    gpio.output(5, 0)
    gpio.output(7, 0)
    time.sleep(0.5)
   
print("---------------------------------------------------")
print("|=== Conversor de Caracteres para Codigo Morse ===|")
print("---------------------------------------------------\n")

continuar = "sim"

while continuar == "sim": 

  continuar = ""
  palavra = ""
  contador = 0
  num_letra = 0

  while True:
    palavra = str(input("Digite um caractere ou uma frase: ")).lower()
      
    for letra in palavra:
        if not(letra=="a" or letra=="b" or letra=="c" or letra=="d" or letra=="e" or letra=="f" or letra=="j" or letra=="k" or letra=="l" or letra=="m" or letra=="n" or letra=="o" or letra=="p" or letra=="q" or letra=="r" or letra=="s" or letra=="t" or letra=="u" or letra=="v" or letra=="w" or letra=="x" or letra=="y" or letra=="z" or letra=="g" or letra=="h" or letra=="i" or letra==" " or letra=="1" or letra=="2" or letra=="3" or letra=="4" or letra=="5" or letra=="6" or letra=="7" or letra=="8" or letra=="9" or letra=="0" or letra=="?" or letra=="!" or letra=="." or letra=="," or letra==";" or letra==":" or letra=="+" or letra=="-" or letra=="/" or letra=="=" or letra=="รง"):
          contador+=1

    if contador>0:
      time.sleep(0.75)
      print("\n - Algum dos caracteres colocados estao invalidos. - ")
      print(" - Escreva Novamente! - \n")
      time.sleep(0.75)
    
    elif palavra.lstrip() == "":
      time.sleep(0.5)
      print("\n - Digite algo! -\n")
      time.sleep(0.5)

    else:
      break        
  print("\n- RESULTADO -\n")

  time.sleep(1)
  for letra in palavra:
            num_letra += 1
            if letra != " ":
              print("{}ยบ caractere: {}".format(num_letra, letra))
              time.sleep(0.5)
            else:
              print("---")
            if letra== "a": # ( .- )
                ponto()
                traco()
            if letra== "b": # ( -... )
                traco()
                ponto()
                ponto()
                ponto()
            if letra== "c": # ( -.-. )
                traco()
                ponto()
                traco()
                ponto()
            if letra== "d": # ( -.. )
                traco()
                ponto()
                ponto()
            if letra== "e": # ( . )
                ponto()
            if letra== "f": # ( ..-. )
                ponto()
                ponto()
                traco()
                ponto()
            if letra== "g": # ( --. )
                traco()
                traco()
                ponto()
            if letra== "h": # ( .... )
                ponto()
                ponto()
                ponto()
                ponto()
            if letra== "i": # ( .. )
                ponto()
                ponto()
            if letra== "j": # ( .-- )
                ponto()
                traco()
                traco()
            if letra== "k": # ( -.- )
                traco()
                ponto()
                traco()
            if letra== "l": # ( .-.. )
                ponto()
                traco()
                ponto()
                ponto()
            if letra== "m": # ( -- )
                traco()
                traco()
            if letra== "n": # ( -. )
                traco()
                ponto()
            if letra== "o": # ( --- )
                traco()
                traco()
                traco()
            if letra== "p": # ( .--. )
                ponto()
                traco()
                traco()
                ponto()
            if letra== "q": # ( --.- )
                traco()
                traco()
                ponto()
                traco()
            if letra== "r": #( .-. )
                ponto()
                traco()
                ponto()
            if letra== "s": # ( ... )
                ponto()
                ponto()
                ponto()
            if letra== "t": # ( - )
                traco()
            if letra== "u": # ( ..- )
                ponto()
                ponto()
                traco()
            if letra== "v": # ( ...- )
                ponto()
                ponto()
                ponto()
                traco()
            if letra== "w": # ( .-- )
                ponto()
                traco()
                traco()
            if letra== "x": # ( -..- )
                traco()
                ponto()
                ponto()
                traco()
            if letra== "y": # ( -.-- )
                traco()
                ponto()
                traco()
                traco()
            if letra== "z": # ( --.. )
                traco()
                traco()
                ponto()
                ponto()
            if letra== " ":
                gpio.output(11, 1)
                time.sleep(2)
                gpio.output(11, 0)
                
            if letra =="1":#(.----)
              ponto()
              traco()
              traco()
              traco()
              traco()
            
            if letra =="2":#(..---)
              ponto()
              ponto()
              traco()
              traco()
              traco()
              
            if letra =="3":#(...--)
              ponto()
              ponto()
              ponto()
              traco()
              traco()
              
            if letra =="4":#(....-)
              ponto()
              ponto()
              ponto()
              ponto()
              traco()
              
            if letra=="5":#(.....)
              ponto()
              ponto()
              ponto()
              ponto()
              ponto()
              
            if letra=="6":#(-....)
              traco()
              ponto()
              ponto()
              ponto()
              ponto()
              
            if letra =="7":#(--...)
              traco()
              traco()
              ponto()
              ponto()
              ponto()
            
            if letra =="8":#(---..)
              traco()
              traco()
              traco()
              ponto()
              ponto()
            
            if letra =="9":#(----.)
              traco()
              traco()
              traco()
              traco()
              ponto()
            
            if letra =="0":#(-----)
              traco()
              traco()
              traco()
              traco()
              traco()
            
            if letra =="?":#(..--..)
              ponto()
              ponto()
              traco()
              traco()
              ponto()
              ponto()
              
            if letra =="!":#(-.-.--)
              traco()
              ponto()
              traco()
              ponto()
              traco()
              traco()
              
            if letra ==".":#(.-.-.-)
              ponto()
              traco()
              ponto()
              traco()
              ponto()
              traco()
              
            if letra ==",":#(--..--)
              traco()
              traco()
              ponto()
              ponto()
              traco()
              traco()
              
            if letra ==";":#(-.-.-.)
              traco()
              ponto()
              traco()
              ponto()
              traco()
              ponto()
              
            if letra ==":":#(---...)
              traco()
              traco()
              traco()
              ponto()
              ponto()
              ponto()
            
            if letra =="+":#(.-.-.)
              ponto()
              traco()
              ponto()
              traco()
              ponto()
              
            if letra =="-":#(-....-)
              traco()
              ponto()
              ponto()
              ponto()
              ponto()
              traco()
              
            if letra =="/":#(-..-.)
              traco()
              ponto()
              ponto()
              traco()
              ponto()
              
            if letra =="=":#(-...-)
              traco()
              ponto()
              ponto()
              ponto()
              traco()
              
            if letra =="รง":
                traco()
                ponto()
                traco()
                ponto()
                ponto()
                
                
            gpio.output(13, 1)    
            time.sleep(0.4)
            gpio.output(13, 0)          

  gpio.output(3, 1)
  gpio.output(5, 1)
  gpio.output(7, 1)
  gpio.output(11, 1)
  gpio.output(13, 1)
  time.sleep(3)
  gpio.output(3, 0)
  gpio.output(5, 0)
  gpio.output(7, 0)
  gpio.output(11, 0)
  gpio.output(13, 0)

  

  while True:
    time.sleep(0.5)
    continuar = input("\nQuer Continuar: [sim/nao]: ").lower()

    time.sleep(0.5)
    if continuar != "nao" and continuar !="sim": 
       print("\n- Digite SIM ou NAO -\n")
    else: 
        if continuar == "nao": 
            print("\n--- PROGRAMA ENCERRADO ---\n")
        print()
        time.sleep(0.5)
        break
        
